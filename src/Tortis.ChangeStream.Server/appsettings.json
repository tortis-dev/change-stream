{
  "AllowedHosts": "*",

  "Serilog": {
    "LevelSwitches": { "$controlSwitch": "Information"},
    "MinimumLevel": {"ControlledBy": "$controlSwitch" },
    "WriteTo": [
      {
        "Name": "Console"
      },
      {
        "Name": "Seq",
        "Args":
        {
          "serverUrl": "http://localhost:5341"
        }
      }
    ]
  },
  "ConnectionStrings": {
    "SqlDb": "server=.\\sqlexpress;database=test;user id=sa;password=Password1;Encrypt=false",
    "RabbitMQ": "amqp://user:Password1@localhost:5672/"
  },
  "Cdc": {
    "Streams": [
    {
      "CheckIntervalInMilliseconds": 1000,
      "CircuitBreakerTimeout": "00:00:05",
      "Source" : {
        "SourceName": "SqlDb",
        "SourceType": "Tortis.ChangeStream.SqlServer.SqlServerSource,Tortis.ChangeStream.SqlServer",
        "Properties": {
          "ConnectionStringKey": "ConnectionStrings:SqlDb",
          "SchemaName": "dbo",
          "TableName": "person"
        }
      },
      "Destination" : {
        "DestinationName": "EventBus",
        "DestinationType": "Tortis.ChangeStream.RabbitMQ.AmqpPublisher,Tortis.ChangeStream.RabbitMQ",
        "Properties": {
          "ConnectionStringKey": "ConnectionStrings:RabbitMQ",
          "TopicName": "dbo_person"
        }
      }
    }
  ]}
}
